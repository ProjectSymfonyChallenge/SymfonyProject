{% extends 'base_back.html.twig' %}

{% block title %}Gestion des utilisateurs
{% endblock %}

{% block body %}
	<h1>User index</h1>
	<table class="table" id="datatables">
	        <thead>
	            <tr>
	                <th>Id</th>
	                <th>Email</th>
					<th>Username</th>
					<th>Slug</th>
	                <th>Roles</th>
					<th>Statut</th>
					<th>Date de cr√©ation</th>
					<th>Date de modification</th>
	                <th>actions</th>
	            </tr>
	        </thead>
	        <tbody>
	        {% for user in users %}
	            <tr>
	                <td>{{ user.id }}</td>
	                <td>{{ user.email }}</td>
					<td>{{ user.username }}</td>
					<td>{{ user.slug }}</td>
	                <td>{{ user.roles ? user.roles|json_encode : '' }}</td>
					<td>{{ user.status ? 'Actif' : 'Inactif' }}</td>
					<td>{{ user.createdAt ? user.createdAt|date('d-m-Y H:i:s') : '' }}</td>
					<td>{{ user.updatedAt ? user.updatedAt|date('d-m-Y H:i:s') : '' }}</td>
	                <td>
	                    <a href="{{ path('back_user_show', {'slug': user.slug}) }}">show</a>
	                    <a href="{{ path('back_user_edit', {'slug': user.slug}) }}">edit</a>
	                </td>
	            </tr>
	        {% else %}
	            <tr>
	                <td colspan="5">no records found</td>
	            </tr>
	        {% endfor %}
	        </tbody>
	    </table>

	<a href="{{ path('back_user_new') }}">Create new</a>
	{% block javascripts %}
		{{ parent() }}
		<script>
			$(document).ready(function() {
				$('#datatables').DataTable();
			} );
		</script>
	{% endblock %}
{% endblock %}
